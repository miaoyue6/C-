# Webserver-纲要

## 1.网络服务器

Webserver就是服务器程序，或者是运行这个服务器软件的硬件。其主要功能就是通过HTTP协议与客户端进行通信，来接收、存储或者处理来自客户端的http请求，并做出相应，返回给客户端内容或者errror；

## 2.用户与服务器通信

通常用户使用web浏览器与相应服务器进行通信。在浏览器键入域名或者IP:端口号，浏览器向对应的服务器发送HTTP请求。这一过程首先通过TCP三次握手建立与目标Web服务器的链接，然后http协议生成针对目标服务器的http请求报文，通过TCP、IP等协议发送到目标web服务器上。

## 3.Web服务器如何接收客户端http请求报文

web服务端通过socket监听来自用户请求。

远端的很多用户会尝试去connect（）这个webserver上正在listen的这个port，而监听到的这些链接会排队等待被accept。由于用户链接请求是水机到达的异步事件，每当监听到socket listen到新的客户连接并且放入监听队列，我们都需要告诉我们的web服务器有链接来了,accept这个链接，并分配一个逻辑单元来处理这个用户请求。而且，我们在处理这个请求的同时，还要继续监听其他的客户请求并分配另一逻辑单元。这里服务器通过epoll这种I/O复用技术来实现对监听socket和链接socket的同时监听。

# 4.CGI

工作流程：

客户端发起请求-----web服务器接收请求，交给合适的CGI程序-----CGI处理后，结果交给web服务器----web服务器把结果转换成html，发送给客户端；

请求一个CGI程序的时候（*比如在浏览器直接输入CGI程序的URL，或者提交表单的时候发送给CGI程序*），CGI程序负责解析从前端传递过来的参数，理解它的意图然后返回数据，比如返回HTML、XML或JSON等。

CGI将对应浏览器发出的请求映射到文件描述符中，然后经过处理后在通过CGI将处理后的命令映射到标准输出。

本项目仅用CGI提取用户名和密码完成校验。

